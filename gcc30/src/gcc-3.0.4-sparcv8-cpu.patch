diff -up gcc-3.0.4/gcc/config/sparc/sol2.h.sparcv8 gcc-3.0.4/gcc/config/sparc/sol2.h
--- gcc-3.0.4/gcc/config/sparc/sol2.h.sparcv8	2012-09-29 14:16:11.652437000 +0200
+++ gcc-3.0.4/gcc/config/sparc/sol2.h	2012-09-29 14:23:03.468445300 +0200
@@ -71,8 +71,13 @@ Boston, MA 02111-1307, USA.  */
 #undef ASM_CPU_DEFAULT_SPEC
 #define ASM_CPU_DEFAULT_SPEC "-xarch=v8plusa"
 #endif
+#if TARGET_CPU_DEFAULT == TARGET_CPU_v8
+#undef ASM_CPU_DEFAULT_SPEC
+#define ASM_CPU_DEFAULT_SPEC "-xarch=v8"
+#endif
 #undef ASM_CPU_SPEC
 #define ASM_CPU_SPEC "\
+%{mcpu=v8:-xarch=v8} \
 %{mcpu=v8plus:-xarch=v8plus} \
 %{mcpu=ultrasparc:-xarch=v8plusa} \
 %{!mcpu*:%(asm_cpu_default)} \
diff -up gcc-3.0.4/gcc/config/sparc/sparc.h.sparcv8 gcc-3.0.4/gcc/config/sparc/sparc.h
--- gcc-3.0.4/gcc/config/sparc/sparc.h.sparcv8	2012-09-21 23:10:14.372283200 +0200
+++ gcc-3.0.4/gcc/config/sparc/sparc.h	2012-09-29 14:23:03.476796500 +0200
@@ -147,12 +147,16 @@ extern enum cmodel sparc_cmodel;
 #define CPP_CPU64_DEFAULT_SPEC ""
 #define ASM_CPU64_DEFAULT_SPEC ""
 
-#if TARGET_CPU_DEFAULT == TARGET_CPU_sparc \
- || TARGET_CPU_DEFAULT == TARGET_CPU_v8
+#if TARGET_CPU_DEFAULT == TARGET_CPU_sparc
 #define CPP_CPU32_DEFAULT_SPEC ""
 #define ASM_CPU32_DEFAULT_SPEC ""
 #endif
 
+#if TARGET_CPU_DEFAULT == TARGET_CPU_v8
+#define CPP_CPU32_DEFAULT_SPEC "-D__sparc_v8__"
+#define ASM_CPU32_DEFAULT_SPEC "-Av8"
+#endif
+
 #if TARGET_CPU_DEFAULT == TARGET_CPU_sparclet
 #define CPP_CPU32_DEFAULT_SPEC "-D__sparclet__"
 #define ASM_CPU32_DEFAULT_SPEC "-Asparclet"
